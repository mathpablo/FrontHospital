<!DOCTYPE html>
<html lang="en" ng-app="alaModule">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciamento de Alas</title>

  <link rel="stylesheet" href="ala.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
</head>
<body ng-controller="AlaController as vm">
  <div class="container">
    <button class="back-button" onclick="window.history.back()">Voltar</button>
    <h1>Gerenciar Alas</h1>

    <section class="form-section">
      <h2>Criar Ala</h2>

      <div class="form-group">
        <label>ID do hospital</label>
        <input type="number" ng-model="vm.hospitalId" placeholder="Digite o ID do hospital" />
      </div>

      <div class="form-group">
        <label>Especialidade</label>
        <input type="text" ng-model="vm.specialty" placeholder="Especialidade da Ala (ex: CARDIOLOGIA)" />
      </div>

      <div class="form-group">
        <label>Quantidade de quartos</label>
        <input type="number" ng-model="vm.quantidadeQuartos" placeholder="Quantidade de quartos" />
      </div>

      <div class="form-group">
        <label>Leitos por quarto</label>
        <input type="number" ng-model="vm.quantidadeLeitosPorQuartos" placeholder="Quantidade de leitos por quarto" />
      </div>

      <button class="btn-primary" ng-click="vm.criarAla()">Criar</button>
    </section>

    <section>
      <h2>Lista de Alas</h2>
      <div class="alas-list">
       <div class="ala-card" ng-repeat="ala in vm.alas | filter:vm.filtrarAlas | orderBy:'id'">
  <h3>Ala ID: {{ ala.id }}</h3>
  <p><strong>Especialidade:</strong> {{ ala.specialty }}</p>
  <p><strong>Hospital:</strong> {{ ala.hospitalName }}</p>
  <p><strong>Quantidade de Quartos:</strong> {{ ala.quantidadeQuartos }}</p>
  <p><strong>Leitos por Quarto:</strong> {{ ala.quantidadeLeitosPorQuartos }}</p>

  <div class="button-group">
    <button class="btn-edit" ng-click="vm.abrirEdicaoAla(ala)">Editar</button>
    <button class="btn-danger" ng-click="vm.excluirAlaDireto(ala.id)">Excluir</button>
  </div>
</div>

      </div>
    </section>

    <!-- Formulário de edição -->
    <section class="form-section" ng-if="vm.alaEditando">
      <h2>Editando Ala ID {{ vm.alaEditando.id }}</h2>

      <div class="form-group">
        <label>Quantidade de Quartos</label>
        <input type="number" ng-model="vm.alaEditando.quantidadeQuartos" />
      </div>

      <div class="form-group">
        <label>Leitos por Quarto</label>
        <input type="number" ng-model="vm.alaEditando.quantidadeLeitosPorQuartos" />
      </div>

      <button class="btn-primary" ng-click="vm.salvarEdicao()">Salvar</button>
      <button class="btn-secondary" ng-click="vm.cancelarEdicao()">Cancelar</button>
    </section>
  </div>

  <script src="../../../dist/bundle.js"></script>
</body>
</html>
